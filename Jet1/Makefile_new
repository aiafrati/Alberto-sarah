#-----------------------------------     
#    Makefile per SPLASH 
#-----------------------------------     
.SUFFIXES: .o

F77=g77

#####   Linux
 SWI= -c #-Wall
# COM= #-Wall

#####   Digital
#SWI= -c -g -O5 -C -arch host -tune host -inline speed
#COM= -O5 -g -C -arch host -tune host -inline speed -non_shared

########## IBM
#SWI= -c -O3 -qstrict -qipa -qarch=pwr2 -Pk
#SWI= -c -O2 
#COM= -lessl

moduli=	main.o\
	input.o\
	initial.o\
	splver.o\
	solver.o\
	solpre.o\
	caveta.o\
	finte.o\
	filin.o\
	ridis.o\
	check.o\
	stampa.o\
	filiniz.o\
	doldfil1.o\
	delta.o\
	ropn.o\
	spline.o\
	splin1.o\
	splint.o\
	splint1.o\
	splint3.o\
	spline3.o\
	disuni.o\
	der3.o\
	dinam.o\
	axsimm.o\
	gauss.o

#spl: $(moduli)
#        f77 $(COM) $(moduli) -ldxml -o lese
spl: $(moduli) 
	$(F77) $(COM) $(moduli)   -o spl  #-llapack -lblas

main.o     : main.f
	$(F77) $(SWI) main.f
input.o    : input.f
	$(F77) $(SWI) input.f
initial.o  : initial.f
	$(F77) $(SWI) initial.f
splver.o   : splver.f
	$(F77) $(SWI) splver.f
solver.o   : solver.f
	$(F77) $(SWI) solver.f
solpre.o   : solpre.f
	$(F77) $(SWI) solpre.f
caveta.o   : caveta.f
	$(F77) $(SWI) caveta.f
finte.o    : finte.f
	$(F77) $(SWI) finte.f
filin.o    : filin.f
	$(F77) $(SWI) filin.f
ridis.o    : ridis.f
	$(F77) $(SWI) ridis.f
check.o    : check.f
	$(F77) $(SWI) check.f
stampa.o   : stampa.f
	$(F77) $(SWI) stampa.f
filiniz.o  : filiniz.f
	$(F77) $(SWI) filiniz.f
doldfil1.o : doldfil1.f
	$(F77) $(SWI) doldfil1.f
delta.o	   : delta.f
	$(F77) $(SWI) delta.f
ropn.o     : ropn.f
	$(F77) $(SWI) ropn.f
spline.o   : spline.f
	$(F77) $(SWI) spline.f
splin1.o   : splin1.f
	$(F77) $(SWI) splin1.f
splint.o   : splint.f
	$(F77) $(SWI) splint.f
splint1.o  : splint1.f
	$(F77) $(SWI) splint1.f
splint3.o  : splint3.f
	$(F77) $(SWI) splint3.f
spline3.o  : spline3.f
	$(F77) $(SWI) spline3.f
disuni.o   : disuni.f
	$(F77) $(SWI) disuni.f
der3.o     : der3.f
	$(F77) $(SWI) der3.f
dinam.o    : dinam.f
	$(F77) $(SWI) dinam.f
axsimm.o    : axsimm.f
	$(F77) $(SWI) axsimm.f
gauss.o    : gauss.f
	$(F77) $(SWI) gauss.f
